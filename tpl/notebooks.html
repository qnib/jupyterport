{{ define "notebooks" }}

<!DOCTYPE html>
<html lang="en">
  {{ template "header" }}

  <body>

    {{ template "navbar" }}

    <div class="container">

      <div class="starter-template">
        <h1>Notebooks of {{ .User }}</h1>
          <ul>
          {{range .Notebooks}}
             <li><a target="_blank" href="{{ .Path }}/tree?token={{ .Token }}">Proxy Connection to {{ .Name }}</a></li>
          {{end}}
          </ul>
      </div>
        {{ if not .Authenticated }}
        <form action="/personal" method="post">
            <label for="uname"><b>Username</b></label>
            <input type="text" value="test" name="uname" required>
            <button type="submit">Login</button>
        </form>
        {{else}}
            <form action="/start-notebook" method="post">
                <label for="cntname"><b>Notebook Name</b></label>
                <input type="text" value="mynotebook" name="cntname" required><br>
                <label for="cntport"><b>Container Port</b></label>
                <input type="text" name="cntport" value="31888" required><br>
                <label for="cntimage"><b>Container Image</b></label>
                <select name="cntimage">
                    {{range .Images}}
                        <option value="{{.Name}}">{{.Name}}</option>
                    {{end}}
                </select><br>
                <!--<input type="text" name="cntimage" value="qnib/uplain-jupyter-base-notebook:latest" required><br>-->
                <label for="cnt-gpu"><b>#GPUs</b></label>
                <input type="text" name="cnt-gpu" value="0" required><br>
                <label for="cnt-rcuda"><b>#rCUDA GPUs</b></label>
                <input type="text" name="cnt-rcuda" value="0" required><br>
                <button type="submit">Create</button>
            </form>
        {{ end }}
    </div><!-- /.container -->

    {{ template "footer" }}
  </body>
</html>
{{ end }}
